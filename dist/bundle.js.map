{"version":3,"file":"bundle.js","sources":["../libs/axios/Axios.ts","../libs/axios/index.ts","../src/18_axios/index.ts"],"sourcesContent":["import { AxiosRequestConfig, AxiosResponse } from './index';\r\n\r\nclass Axios {\r\n  request<T>(config: AxiosRequestConfig): Promise<AxiosResponse<T>> {\r\n    // 发送请求需要对我们的配置进行合并，进行修改等操作\r\n    // 1. 对配置进行合并， 默认值\r\n    // 2. 拦截器\r\n\r\n    // 3. 发送请求\r\n    return this.dispatchRequest(config);\r\n  }\r\n\r\n  dispatchRequest<T>(config: AxiosRequestConfig): Promise<AxiosResponse<T>> {\r\n    return new Promise((resolve, reject) => {\r\n      const { url, method, params } = config;\r\n\r\n      const request = new XMLHttpRequest();\r\n\r\n      // params 路径参数\r\n      if (params) {\r\n        // name=xl&age=30\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nexport default Axios;\r\n","import { AxiosInstance } from './types';\r\nimport Axios from './Axios';\r\n\r\nfunction createInstance() {\r\n  const context = new Axios();\r\n\r\n  // 保证 this 永远指向 类的实例\r\n  const instance: AxiosInstance = Axios.prototype.request.bind(context);\r\n\r\n  return instance;\r\n}\r\n\r\nconst axios = createInstance();\r\n\r\nexport default axios;\r\nexport * from './types';\r\n","// import axios, { AxiosRequestConfig, AxiosResponse } from 'axios';\r\nimport axios, { AxiosRequestConfig, AxiosResponse } from '../../libs/axios';\r\n\r\n// 基础路径\r\nconst baseURL = 'http://localhost:8080';\r\n\r\n// 发送 get 请求 和 post\r\n\r\ninterface Person {\r\n  name: string;\r\n  age: number;\r\n}\r\n\r\nlet person: Person = {\r\n  name: 'xl',\r\n  age: 28,\r\n};\r\n\r\nlet requestConfig: AxiosRequestConfig = {\r\n  url: baseURL + '/get',\r\n  method: 'GET',\r\n  params: person,\r\n};\r\n\r\n// 希望的返回值\r\naxios(requestConfig)\r\n  .then((response: AxiosResponse<Person>) => {\r\n    console.log(response.data);\r\n  })\r\n  .catch((error: any) => {\r\n    console.log(error);\r\n  });\r\n"],"names":[],"mappings":";;;;;EAEA,MAAM,KAAK,CAAA;EACT,IAAA,OAAO,CAAI,MAA0B,EAAA;;;;;EAMnC,QAAA,OAAO,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC;OACrC;EAED,IAAA,eAAe,CAAI,MAA0B,EAAA;UAC3C,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,KAAI;EAGrC,YAAgB,IAAI,cAAc,GAAG;EAMvC,SAAC,CAAC,CAAC;OACJ;EACF;;ECrBD,SAAS,cAAc,GAAA;EACrB,IAAA,MAAM,OAAO,GAAG,IAAI,KAAK,EAAE,CAAC;;EAG5B,IAAA,MAAM,QAAQ,GAAkB,KAAK,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;EAEtE,IAAA,OAAO,QAAQ,CAAC;EAClB,CAAC;EAED,MAAM,KAAK,GAAG,cAAc,EAAE;;ECZ9B;EAGA;EACA,MAAM,OAAO,GAAG,uBAAuB,CAAC;EASxC,IAAI,MAAM,GAAW;EACnB,IAAA,IAAI,EAAE,IAAI;EACV,IAAA,GAAG,EAAE,EAAE;GACR,CAAC;EAEF,IAAI,aAAa,GAAuB;MACtC,GAAG,EAAE,OAAO,GAAG,MAAM;EACrB,IAAA,MAAM,EAAE,KAAK;EACb,IAAA,MAAM,EAAE,MAAM;GACf,CAAC;EAEF;EACA,KAAK,CAAC,aAAa,CAAC;EACjB,KAAA,IAAI,CAAC,CAAC,QAA+B,KAAI;EACxC,IAAA,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;EAC7B,CAAC,CAAC;EACD,KAAA,KAAK,CAAC,CAAC,KAAU,KAAI;EACpB,IAAA,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;EACrB,CAAC,CAAC;;;;;;"}